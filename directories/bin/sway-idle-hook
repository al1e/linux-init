#!/usr/bin/bash
# Maintained in linux-init-files.org
exec swayidle -w \
       timeout 2 '' \
       resume 'if pgrep -x swaylock; then swaymsg "output * dpms off"; else swaymsg "output * dpms on"; fi' \
       timeout ${XIDLEHOOK_BLANK:-120} 'swaymsg "output * dpms off"' \
       resume 'swaymsg "output * dpms on"' \
       timeout ${XIDLEHOOK_LOCK:-300} 'sway-lock' \
       resume 'swaymsg "output * dpms on"' \
       lock 'sway-lock' \
       before-sleep 'sway-lock'
